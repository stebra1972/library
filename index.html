<!-- index.html -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library</title>
</head>
<body>
    <h1>My Library</h1>
    <table id="libraryTable" border="1">
        <thead>
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Pages</th>
                <th>Read</th>
                <th>Delete</th>
                <th>Toggle Read</th>
            </tr>
        </thead>
        <tbody>
            <!-- Book rows will be inserted here -->
        </tbody>
    </table>
    <button id="newBookButton">New Book</button>
    <button id="onlyTableButton">Only Table</button>

    <!-- Form to add new book -->
    <div id="newBookForm" style="display: none;">
        <input type="text" id="title" placeholder="Title">
        <input type="text" id="author" placeholder="Author">
        <input type="number" id="pages" placeholder="Pages">
        <input type="text" id="read" placeholder="Read (yes/no)">
        <button id="addBookButton">Add Book</button>
    </div>

    <script src="script.js"></script>
    <script>
        class Book {
            constructor(title, author, pages, read) {
                this.title = title;
                this.author = author;
                this.pages = pages;
                this.read = read;
            }
        }

        class Library {
            constructor() {
                this.books = [];
                this.init();
            }

            init() {
                document.getElementById("newBookButton").addEventListener("click", () => {
                    document.getElementById("newBookForm").style.display = "block";
                });

                document.getElementById("addBookButton").addEventListener("click", () => {
                    this.addBookToLibrary();
                });

                document.getElementById("onlyTableButton").addEventListener("click", () => {
                    document.getElementById("newBookForm").style.display = "none";
                });
            }

            addBookToLibrary() {
                const title = document.getElementById("title").value;
                const author = document.getElementById("author").value;
                const pages = document.getElementById("pages").value;
                const read = document.getElementById("read").value;
                const book = new Book(title, author, pages, read);
                this.books.push(book);
                this.displayBooks();
            }

            displayBooks() {
                const tableBody = document.querySelector("#libraryTable tbody");
                tableBody.innerHTML = ""; // Clear the table body

                this.books.forEach((book, index) => {
                    const row = tableBody.insertRow();
                    const titleCell = row.insertCell(0);
                    const authorCell = row.insertCell(1);
                    const pagesCell = row.insertCell(2);
                    const readCell = row.insertCell(3);
                    const deleteCell = row.insertCell(4);
                    const toggleReadCell = row.insertCell(5);

                    titleCell.textContent = book.title;
                    authorCell.textContent = book.author;
                    pagesCell.textContent = book.pages;
                    readCell.textContent = book.read;

                    const deleteButton = document.createElement("button");
                    deleteButton.textContent = "Delete";
                    deleteButton.addEventListener("click", () => {
                        this.deleteBook(index);
                    });
                    deleteCell.appendChild(deleteButton);

                    const toggleReadButton = document.createElement("button");
                    toggleReadButton.textContent = "Toggle Read";
                    toggleReadButton.addEventListener("click", () => {
                        this.toggleReadStatus(index);
                    });
                    toggleReadCell.appendChild(toggleReadButton);
                });
            }

            deleteBook(index) {
                this.books.splice(index, 1);
                this.displayBooks();
            }

            toggleReadStatus(index) {
                this.books[index].read = this.books[index].read === "yes" ? "no" : "yes";
                this.displayBooks();
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            const library = new Library();
        });
    </script>
</body>
</html>